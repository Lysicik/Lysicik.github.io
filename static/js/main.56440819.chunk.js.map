{"version":3,"sources":["Header/Header.js","Login/Login.js","Register/Register.js","Main/Main.js","Convert/Convert.js","firebase.js","App.js","index.js"],"names":["Header","this","props","isLogin","onPageChange","onLogout","className","onClick","Pages","main","login","register","convert","React","Component","Login","state","name","password","error","value","onChange","onNameChange","bind","placeholder","type","onPasswordChange","onLogin","e","setState","target","Register","email","id","accept","onEmailChange","onRegister","file","document","getElementById","files","test","isValidEmail","Main","data","fetch","then","r","json","d","rates","content","Object","keys","map","v","border","Convert","key1","key2","val1","val2","val","onKey1Change","disabled","selected","onValChange","onKey2Change","onButtonClick","replace","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","callbackHistory","window","history","pushState","location","origin","App","page","localStorage","getItem","pathname","newPage","resolve","reject","ref","child","on","snap","setItem","alert","uploadTask","put","snapshot","progress","bytesTransferred","totalBytes","console","log","getDownloadURL","fileUrl","set","Password","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.56440819.chunk.js","sourcesContent":["import React from 'react';\nimport './Header.css';\nimport {Pages} from \"../App\";\n\nexport class Header extends React.Component {\n  render() {\n    const { isLogin, onPageChange, onLogout } = this.props;\n\n    return (\n        <div className=\"header\">\n          <div className=\"header__title\" onClick={()=>{onPageChange(Pages.main)}}><b>Конвертер валют</b></div>\n          <div className=\"header__buttons\">\n            {!isLogin && <div className=\"header__button\" onClick={()=>{onPageChange(Pages.login)}}>Вход</div>}\n            {!isLogin && <div className=\"header__button\" onClick={()=>{onPageChange(Pages.register)}}>Регистрация</div>}\n            {isLogin && <div className=\"header__button\" onClick={()=>{onPageChange(Pages.convert)}}>Конвертация</div>}\n            {isLogin && <div className=\"header__button\" onClick={onLogout}>Выход</div>}\n          </div>\n        </div>\n    );\n  }\n};\n","import React from 'react';\nimport './Login.css';\n\nexport class Login extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            name: '',\n            password: '',\n            error: ''\n        };\n    }\n\n    render() {\n        const { name, password, error } = this.state;\n\n        return (\n            <div className=\"login\">\n                <div className=\"login__container\">\n                    <div className=\"login__title\">Добро пожаловать</div>\n                    <input value={name} onChange={this.onNameChange.bind(this)} placeholder={'Логин'} className=\"login__elem\"/>\n                    <input value={password} type=\"password\" onChange={this.onPasswordChange.bind(this)} placeholder={'Пароль'} className=\"login__elem\"/>\n                    <button\n                        className=\"login__button\"\n                        onClick={this.onLogin.bind(this)}\n                    >\n                        Войти\n                    </button>\n                    <div className=\"login__elem-error\">{error}</div>\n                </div>\n            </div>\n        );\n    }\n\n    onNameChange(e) {\n        this.setState({name: e.target.value});\n    }\n\n    onPasswordChange(e) {\n        this.setState({password: e.target.value});\n    }\n\n    onLogin() {\n        const { name, password } = this.state;\n\n        if (!name) {\n            this.setState({error: \"Вы не ввели логин\"});\n            return;\n        }\n\n        if (!password) {\n            this.setState({error: \"Вы не ввели пароль\"});\n            return;\n        }\n\n        this.props.onLogin(name, password);\n    }\n}\n","import React from 'react';\nimport './Register.css';\n\nfunction isValidEmail(email) {\n    return /^([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,6}$/.test(email);\n}\n\nexport class Register extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            name: '',\n            password: '',\n            email: '',\n            error: ''\n        };\n    }\n\n    render() {\n        const { name, password, email, error } = this.state;\n\n        return (\n            <div className=\"register\">\n                <div className=\"register__container\">\n                    <div className=\"register__title\">Добро пожаловать</div>\n                    <input id=\"file_input\" type=\"file\" accept=\"image/jpeg,image/png\" className=\"register__elem\" />\n                    <input value={name} onChange={this.onNameChange.bind(this)} placeholder={'Логин'} className=\"register__elem\"/>\n                    <input value={email} onChange={this.onEmailChange.bind(this)} placeholder={'Почта'} className=\"register__elem\"/>\n                    <input value={password} type=\"password\" onChange={this.onPasswordChange.bind(this)} placeholder={'Пароль'} className=\"register__elem\"/>\n                    <button\n                        className=\"register__button\"\n                        onClick={this.onRegister.bind(this)}\n                    >\n                        Зарегестрироваться\n                    </button>\n                    <div className=\"register__elem-error\">{error}</div>\n                </div>\n            </div>\n        );\n    }\n\n    onNameChange(e) {\n        this.setState({name: e.target.value});\n    }\n\n    onEmailChange(e) {\n        this.setState({email: e.target.value});\n    }\n\n    onPasswordChange(e) {\n        this.setState({password: e.target.value});\n    }\n\n    onRegister() {\n        const { name, password, email } = this.state;\n\n        const file = document.getElementById('file_input').files[0];\n\n        if (!name) {\n            this.setState({error: \"Вы не ввели логин\"});\n            return;\n        }\n\n        if (!password) {\n            this.setState({error: \"Вы не ввели пароль\"});\n            return;\n        }\n\n        if (!file) {\n            this.setState({error: \"Вы не добавили картинку\"});\n            return;\n        }\n\n        if (!email || !isValidEmail(email)) {\n            this.setState({error: \"Вы ввели невалидную почту\"});\n            return;\n        }\n\n        this.setState({error: \"Загрузка...\"}, () => {\n            this.props.onRegister(name, password, email, file);\n        });\n    }\n}\n","import React from 'react';\nimport './Main.css';\n\nexport class Main extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            data: {}\n        };\n    }\n\n    componentDidMount() {\n        fetch('https://api.exchangeratesapi.io/latest?base=RUB')\n            .then(r => r.json())\n            .then(d => this.setState({ data: d.rates }))\n    }\n\n    render() {\n        const { data } = this.state;\n        const val = Object.keys(data);\n        const content = val.map((v) => (\n            <tr>\n                <th>{v}</th>\n                <th>{data[v]}</th>\n            </tr>\n        ));\n\n        return (\n            <div className=\"main\">\n                <div className=\"main__table\">\n                    <table border=\"1\">\n                        <tr>\n                            <th>Валюта</th>\n                            <th>Сколько можно купить на 1 рубль</th>\n                        </tr>\n                        {content}\n                    </table>\n                </div>\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport './Convert.css';\n\nexport class Convert extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            data: {},\n            key1: '',\n            key2: '',\n            val1: '',\n            val2: '???'\n        };\n    }\n\n    componentDidMount() {\n        fetch('https://api.exchangeratesapi.io/latest?base=RUB')\n            .then(r => r.json())\n            .then(d => this.setState({ data: d.rates }))\n    }\n\n    render() {\n        const { data, val1, val2 } = this.state;\n        const val = Object.keys(data).map((v) => (\n            <option>{v}</option>\n        ));\n\n        return (\n            <div className=\"convert\">\n                <div className=\"convert__content\">\n                    <div className=\"convert__wrapper\">\n                    <select onChange={this.onKey1Change.bind(this)} className=\"convert__select\">\n                        <option disabled selected value> -- select an option -- </option>\n                        {val}\n                    </select>\n                        <input value={val1} onChange={this.onValChange.bind(this)} className=\"convert__input\"/>\n                    </div>\n                    <div className=\"convert__wrapper\">\n                    <select onChange={this.onKey2Change.bind(this)} className=\"convert__select\">\n                        <option disabled selected value> -- select an option -- </option>\n                        {val}\n                    </select>\n                        <div className=\"convert__value\">{val2}</div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    onKey1Change(e) {\n        this.setState({key1: e.target.value}, () => {this.onButtonClick()});\n    }\n\n    onKey2Change(e) {\n        this.setState({key2: e.target.value}, () => {this.onButtonClick()});\n    }\n\n    onValChange(e) {\n        this.setState({val1: e.target.value.replace(/\\D+/g, ''), val2: '???'}, () => {this.onButtonClick()});\n    }\n\n    onButtonClick() {\n        const { key1, key2, val1 } = this.state;\n\n        if (key1 && key2 && val1) {\n            fetch(`https://api.exchangeratesapi.io/latest?symbols=${key2}&base=${key1}`)\n                .then(r => r.json())\n                .then(({rates}) => {\n                    this.setState({ val2: val1 * rates[key2] })\n                });\n        }\n    }\n}\n","import * as firebase from 'firebase'\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyAy_-YUMnW2Ng5y4Ba5vM9SYPNYOLtmu1Y\",\n    authDomain: \"js-lab4.firebaseapp.com\",\n    databaseURL: \"https://js-lab4.firebaseio.com\",\n    projectId: \"js-lab4\",\n    storageBucket: \"js-lab4.appspot.com\",\n    messagingSenderId: \"427284355732\",\n    appId: \"1:427284355732:web:fd4b138a0ee1226afbf281\"\n};\nfirebase.initializeApp(firebaseConfig);\n\nexport const onRegister = (login, password, email, file, resolve, reject) => {\n    const ref = firebase.database().ref().child('users').child(login).child('Login');\n    ref.on('value', snap => {\n        const uploadTask = firebase.storage().ref('users/' + file.name).put(file);\n\n        uploadTask.on('state_changed', function (snapshot) {\n            var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n            console.log('Upload is ' + progress + '% done');\n        }, function (error) {\n            console.log(error);\n\n            return reject();\n        }, function () {\n            uploadTask.snapshot.ref.getDownloadURL().then(function (fileUrl) {\n                firebase.database().ref('users/' + login).set({\n                    email: email,\n                    Login: login,\n                    Password: password,\n                    fileUrl: fileUrl\n                }, function (error) {\n                    if (error) {\n                        return reject();\n                    } else {\n                        return resolve();\n                    }\n                });\n                console.log('FILE URL: ', fileUrl);\n            });\n        });\n    })\n};\n\nexport const onLogin = (login, password, resolve, reject) => {\n    const ref = firebase.database().ref().child('users').child(login).child('Password');\n    ref.on('value', snap => {\n        password === snap.val() ? resolve() : reject();\n    })\n};\n","import React from 'react';\nimport './App.css';\nimport {Header} from \"./Header/Header\";\nimport {Login} from \"./Login/Login\";\nimport {Register} from \"./Register/Register\";\nimport {Main} from \"./Main/Main\";\nimport {Convert} from \"./Convert/Convert\";\nimport {onLogin, onRegister} from \"./firebase\";\n\nexport const Pages = {\n  main: '/main',\n  login: '/login',\n  register: '/register',\n  convert: '/convert'\n};\n\nconst callbackHistory = () => {\n  window.history.pushState({}, \"\", document.location.origin + Pages.main)\n};\n\nexport class App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      page: Pages.main,\n      isLogin: localStorage.getItem('isLogin') === 'true'\n    };\n  }\n\n  componentDidMount() {\n    const {isLogin} = this.state;\n\n    switch (document.location.pathname) {\n      case Pages.convert: {\n        if (isLogin) {\n          this.setState({page: Pages.convert})\n        } else {\n          this.setState({page: Pages.main}, callbackHistory)\n        }\n\n        break;\n      }\n      case Pages.login: {\n        if (!isLogin) {\n          this.setState({page: Pages.login})\n        } else {\n          this.setState({page: Pages.main}, callbackHistory)\n        }\n\n        break;\n      }\n      case Pages.register: {\n        if (!isLogin) {\n          this.setState({page: Pages.register})\n        } else {\n          this.setState({page: Pages.main}, callbackHistory)\n        }\n\n        break;\n      }\n      default: {\n        this.setState({page: Pages.main}, callbackHistory)\n      }\n    }\n  }\n\n  render() {\n    const {isLogin, page} = this.state;\n\n    return (\n        <div className=\"app\">\n          <Header onPageChange={this.onPageChange.bind(this)} isLogin={isLogin} onLogout={this.onLogout.bind(this)}/>\n          {page === Pages.login && <Login onLogin={this.onLogin.bind(this)} />}\n          {page === Pages.register && <Register onRegister={this.onRegister.bind(this)} />}\n          {page === Pages.main && <Main />}\n          {page === Pages.convert && <Convert />}\n        </div>\n    );\n  }\n\n  onPageChange(newPage) {\n    this.setState({page: newPage}, () => {\n      window.history.pushState({}, \"\", document.location.origin + newPage)\n    })\n  }\n\n  onLogin(login, password) {\n    onLogin(login, password, () => {this.setState({isLogin: true, page: Pages.main}, () => {localStorage.setItem('isLogin', true); callbackHistory();})}, () => {alert(\"При логине произошла ошибка\")});\n  }\n\n  onRegister(login, password, email, file) {\n    onRegister(login, password, email, file, () => {this.setState({isLogin: true, page: Pages.main}, () => {localStorage.setItem('isLogin', true); callbackHistory();})}, () => {alert(\"При регистрации произошла ошибка\")});\n  }\n\n  onLogout() {\n    this.setState({isLogin: false, page: Pages.main}, () => {localStorage.setItem('isLogin', false); callbackHistory();})\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}